(function(){var n,e,t,l,i,r,o,a,u,s,c,d,f,h,p,g,v,b,m,w,x,y,$,C,V,E,O,I,P,L,F,S,k,N,T,j,H,B,R,q,z,A,M,G,D,J,K,Q,U,W,X,Y,Z,_,nn,en,tn=[].slice;H=function(n){return typeof n==typeof{}&&null!==n},j=function(n){return"[object Function]"===Object.prototype.toString.call(n)},T=function(n){return"[object Boolean]"===Object.prototype.toString.call(n)},N=function(n){return"[object Array]"===Object.prototype.toString.call(n)},B=function(n){return"[object String]"===Object.prototype.toString.call(n)},_=function(n){return n.replace(/^\s+/,"").replace(/\s+$/,"")},nn=function(n){return n.replace(/^\//,"").replace(/\/$/,"")},Q=function(n,e){return 0===n.indexOf(e)},C=function(n,e){var t,l;if(j(n.indexOf))return-1!==n.indexOf(e);if(N(n))for(t=0,l=n.length;t<l;t++)if(n[t]===e)return!0;return!1},M=function(n){return n[n.length-1]},V=function(n,e){return n.split(e).length-1},R=function(n){var e,t;for(e in t=[],n)t.push(e);return t},O=function(n,e){var t,l;for(t in H(n)||(n={}),H(e)||(e={}),e)l=e[t],n[t]=l;return n},y=function(n){var e,t,l;for(e in H(n)||(n={}),t={},n)null!=(l=n[e])&&(t[e]=l);return t},x=function(n,e){var t,l,i,r;if(n.length!==e.length)return!1;for(t=i=0,r=n.length;i<r;t=++i)if(l=n[t],e[t]!==l)return!1;return!0},E=function(n,e){var t,l,i;for(t in null==n&&(n={}),null==e&&(e={}),l={},n)i=n[t],e[t]!==i&&(l[t]=e[t]);for(t in e)i=e[t],n[t]!==i&&(l[t]=i);return l},null==($=null!=(en=window.console)?en:{}).log&&($.log=function(){}),null==$.warn&&($.warn=function(){}),f=function(){return function(n){var e,t;t=n.components,e=n.childIndex,this.components=null!=t?t:[],this.childIndex=null!=e?e:0}}(),g=function(){return function(n){var e,t,l,i;e=(i=null!=n?n:{}).name,t=i.nodeType,l=i.parent,this.name=null!=e?e:"",this.nodeType=null!=t?t:null,this.parent=null!=l?l:null,this.routeSettings=null,this.childLiterals={},this.childVariable=null,this.bindings=[]}}(),b=function(){return function(n){var e,t,l,i,r,o;l=(o=null!=n?n:{}).setup,i=o.remove,t=o.load,r=o.unload,e=o.context,this.setup=j(l)?l:function(){},this.load=j(t)?t:function(){},this.unload=j(r)?r:function(){},this.remove=j(i)?i:function(){},this.context=H(e)?e:{}}}(),v=function(){function n(n){var e,t,l,i;t=(i=null!=n?n:{}).node,e=i.boundValues,l=i.parameterObservables,this.node=null!=t?t:null,this.boundValues=null!=e?e:[],this.parameterObservables=null!=l?l:[[]]}return n.prototype.getBindings=function(){var n,e,t,l,i;for(n={},e=t=0,l=(i=this.node.bindings).length;t<l;e=++t)n[i[e]]=this.boundValues[e];return q(n)},n.prototype.isEqual=function(n){return null!=n&&this.node===n.node&&x(this.boundValues,n.boundValues)},n.prototype.isRoot=function(){return null==this.node.parent},n.prototype.getParent=function(){var e,t,l,i,r;return null==this.node?null:(e=null!=(i=null!=(r=this.node.parent)?r.bindings.length:void 0)?i:0,t=this.boundValues.slice(0,e),l=this.parameterObservables.slice(0,-1),new n({node:this.node.parent,boundValues:t,parameterObservables:l}))},n.prototype.getChild=function(n){for(var e;null!=n&&!this.isEqual(e=n.getParent());)n=e;return n.parameterObservables=this.parameterObservables.slice(0),n.parameterObservables.push([]),n},n}(),d=function(){function n(n){this.callback=n,j(this.callback)||(this.callback=function(){}),this.dependencies=[],this.initialized=!1}return n.prototype.notify=function(n){var e=this;if(function(){var t,l,i,r;if(!e.initialized)return!0;for(l=0,i=(r=e.dependencies).length;l<i;l++)if(t=r[l],C(n,t))return!0;return!1}())return this.trigger()},n.prototype.trigger=function(){var n,t=this;return this.dependencies=[],n=function(n){return C(t.dependencies,n)||t.dependencies.push(n),e[n]},this.callback(n),this.initialized=!0},n}(),s=new v({node:null}),u={Literal:"Literal",Variable:"Variable"},z=function(n){var e,t,l,i,r,o,a;if(t={},""!==(n=B(n)?_(n):""))for(i=0,r=(o=n.split("&")).length;i<r;i++)e=(a=o[i].split("=",2))[0],l=a[1],t[e]=l;return q(t)},S=function(){var n;return"#"+(null!=(n=window.location.href.split("#",2)[1])?n:"")},J=function(n){return B(n)||(n=""),"#"===(n=_(n)).slice(0,1)&&(n=n.slice(1)),window.location.hash=n},q=function(n){var e,t;if(H(n)||(n={}),c.CoerceParameterTypes)for(e in n)"true"===(t=n[e])?t=!0:"false"===t?t=!1:/^[0-9]+$/.test(t)?t=parseInt(t):/^[0-9]+\.[0-9]*$/.test(t)&&(t=parseFloat(t)),n[e]=t;return n},K=function(n){var e;return(e=""===(n=nn(n))?[]:n.split("/")).unshift("/"),e},A=function(n){var e,t,l,i,r,o,a,u,s,c;for((i=C(n,"[")||C(n,"]"))&&(1!==(c=V(n,"["))?(c>1&&$.warn('[FINCH] Parsing failed on "'+n+'": Extra ['),c<1&&$.warn('[FINCH] Parsing failed on "'+n+'": Missing [')):1!==(s=V(n,"]"))?(s>1&&$.warn('[FINCH] Parsing failed on "'+n+'": Extra ]'),s<1&&$.warn('[FINCH] Parsing failed on "'+n+'": Missing ]')):Q(n,"[")||$.warn('[FINCH] Parsing failed on "'+n+'": [ not at beginning')),a=0,u=(t=""===(l=n.replace(/[\[\]]/g,""))?[]:K(l)).length;a<u;a++)if(""===t[a])return $.warn('[FINCH] Parsing failed on "'+n+'": Blank component'),null;if(e=0,i){if(o=n.split("]")[0],(r=K(o.replace("[","")))[r.length-1]!==t[r.length-1])return $.warn('[FINCH] Parsing failed on "'+n+'": ] in the middle of a component'),null;if(r.length===t.length)return $.warn('[FINCH] Parsing failed on "'+n+'": No child components'),null;e=r.length}return new f({components:t,childIndex:e})},F=function(n){return Q(n,":")?u.Variable:u.Literal},L=function(n){switch(F(n)){case u.Literal:return n;case u.Variable:return n.slice(1)}},w=function(n,e,t){var l,i,r,o,a;return r=e.components,i=e.childIndex,o=n,l=[],(a=function(s,c){var d,f,h,p,v;if(c===i&&(o=s),e.components.length<=0)return s.parent=o,s.bindings=l,s.routeSettings=new b(t);switch(d=r.shift(),h=F(d),f=L(d),h){case u.Literal:p=null!=(v=s.childLiterals)[f]?(v=s.childLiterals)[f]:v[f]=new g({name:""+s.name+d+"/",nodeType:h,parent:n});break;case u.Variable:p=null!=s.childVariable?s.childVariable:s.childVariable=new g({name:""+s.name+d+"/",nodeType:h,parent:n}),l.push(f)}return a(p,c+1)})(n,0)},P=function(n,e){var t,l,i;return i=K(e),t=[],(l=function(n,e){var i,r;if(e.length<=0&&null!=n.routeSettings)return new v({node:n,boundValues:t});if(i=e[0],null!=n.childLiterals[i]&&null!=(r=l(n.childLiterals[i],e.slice(1))))return r;if(null!=n.childVariable){if(t.push(i),null!=(r=l(n.childVariable,e.slice(1))))return r;t.pop()}return null})(n,i)},I=function(n,e){var t,l,i,r,o;for(l=[],i=e;null!=i;)l.push(i),i=i.getParent();for(i=n;null!=i;){for(r=0,o=l.length;r<o;r++)if(t=l[r],i.isEqual(t))return i;i=i.getParent()}return null},p=t=l=null,h=e=null,i=n=null,r=!1,o=m=!1,a=!1,c={CoerceParameterTypes:!1},(G=function(){return p=new g({name:"*"}),t=s,h={},e={},l=null,i=null,n=null,r=!1,o=!1,m=!1,a=!1})(),U=function(){var n;return null===l?D():a?Z():l.isEqual(t)?W():(n=I(t,l),t.isEqual(n)?X():Y())},X=function(){var n,e,i,r,o,a,u,s,c,d;return m=!0,r=(null!=(u=null!=(s=t.node)?s.routeSettings:void 0)?u:{context:null}).context,e=(d=null!=(c=(t=t.getChild(l)).node.routeSettings)?c:{}).context,a=d.setup,i=d.load,null==e&&(e={}),e.parent=r,null==a&&(a=function(){}),null==i&&(i=function(){}),n=t.getBindings(),o=function(){return U()},2===a.length?a.call(e,n,o):(a.call(e,n),o())},W=function(){var n,e,i,r,o,u;return r=function(){return a=!0,l=null,U()},null==t.node?r():(null==(e=(u=null!=(o=t.node.routeSettings)?o:{}).context)&&(e={}),null==u.setup&&function(){},null==(i=u.load)&&(i=function(){}),n=t.getBindings(),2===i.length?i.call(e,n,r):(i.call(e,n),r()))},Z=function(){var n,e,l,i,r,o;return a=!1,l=function(){return U()},null==(e=(o=null!=(r=t.node.routeSettings)?r:{}).context)&&(e={}),null==(i=o.unload)&&(i=function(){}),n=t.getBindings(),2===i.length?i.call(e,n,l):(i.call(e,n),l())},Y=function(){var n,e,l,i,r,o;return m=!1,null==(e=(o=null!=(r=t.node.routeSettings)?r:{}).context)&&(e={}),null==(i=o.remove)&&(i=function(){}),n=t.getBindings(),l=function(){return t=t.getParent(),U()},2===i.length?i.call(e,n,l):(i.call(e,n),l())},D=function(){var n,l,i,r,o,a,u;for(n=R(E(h,e)),h=e,u=[],r=0,o=(a=t.parameterObservables).length;r<o;r++)i=a[r],u.push(function(){var e,t,r;for(r=[],e=0,t=i.length;e<t;e++)l=i[e],r.push(l.notify(n));return r}());return u},k=function(e){var t;if(t=S(),Q(t,"#")&&(t=t.slice(1)),(t=unescape(t))!==n)return Router.call(t)?n=t:J(null!=n?n:"")},Router={add:function(n,e){var t,l;return j(e)&&(e={setup:t=e},2===t.length?e.load=function(n,e){return m?e():(o=!0,t(n,e))}:e.load=function(n){if(!m)return o=!0,t(n)}),H(e)||(e={}),B(n)||(n=""),(n=_(n)).length>0||(n="/"),null!=(l=A(n))&&(w(p,l,e),this)},call:function(n){var i,r,o,a,u,s;return B(n)||(n="/"),""===n&&(n="/"),s=n.split("?",2),n=s[0],u=s[1],null==(r=P(p,n))?($.warn("[FINCH] Could not find route for: "+n),!1):(a=z(u),i=r.getBindings(),e=O(a,i),null===l&&t.isEqual(r)?U():(o=l,l=r,null==o&&U()),!0)},reload:function(){var n;return a?null==t||null==t.node?this:(n=t,l=s,U(),a=!1,l=t=n,U(),this):this},observe:function(){var n,e,l,i;return n=1<=arguments.length?tn.call(arguments,0):[],o?o=!1:(e=n.pop(),j(e)||(e=function(){}),n.length>0?(l=1===n.length&&N(n[0])?n[0]:n,Router.observe(function(n){var t,i;return i=function(){var e,i,r;for(r=[],e=0,i=l.length;e<i;e++)t=l[e],r.push(n(t));return r}(),e.apply(null,i)})):(i=new d(e),M(t.parameterObservables).push(i)))},abort:function(){return l=null},listen:function(n){return r||("onhashchange"in window&&(j(window.addEventListener)?(window.addEventListener("hashchange",k,!0),null!=n&&"function"==typeof n&&window.addEventListener("hashchange",n,!0),r=!0):j(window.attachEvent)&&(window.attachEvent("hashchange",k),r=!0)),r||(i=setInterval(k,33),r=!0),k()),null!=n&&"function"==typeof n&&(Router.defaultFn=n,Router.defaultFn()),r},ignore:function(){return r&&(null!==i?(clearInterval(i),i=null,r=!1):"onhashchange"in window&&(j(window.removeEventListener)?(window.removeEventListener("hashchange",k,!0),r=!1):j(window.detachEvent)&&(window.detachEvent("hashchange",k),r=!1))),!r},go:function(n,e,t){var l,i,r,o,a,u,s,c,d,f,h,p,g;if(null==(o=(p=S().split("?",2))[0])&&(o=""),null==(r=p[1])&&(r=""),"#"===o.slice(0,1)&&(o=o.slice(1)),o=unescape(o),i=z(r),T(e)&&(t=e),H(n)&&(e=n),B(n)||(n=""),H(e)||(e={}),T(t)||(t=!1),0===(n=_(n)).length&&(n=null),t&&(!function(){var n,e,t;for(n in e={},i)t=i[n],e[unescape(n)]=unescape(t);i=e}(),e=O(i,e)),null===n&&(n=o),g=n.split("?",2),n=g[0],d=g[1],"#"===n.slice(0,1)&&(n=n.slice(1)),Q(n,"./")||Q(n,"../")){for(l=o;Q(n,"./")||Q(n,"../");)c=n.indexOf("/"),u=n.slice(0,c),n=n.slice(c+1),".."===u&&(l=l.slice(0,l.lastIndexOf("/")));n=n.length>0?l+"/"+n:l}return f=B(d)?z(d):{},e=O(f,e),e=y(e),n=escape(n),(s=function(){var n;for(a in n=[],e)h=e[a],n.push(escape(a)+"="+escape(h));return n}().join("&")).length>0&&(n+="?"+s),J(n)},reset:function(){Router.options({CoerceParameterTypes:!1}),l=s,U(),Router.ignore(),G()},options:function(n){return O(c,n)}},this.Finch=void 0}).call(this);class Nexapp{constructor(n,e){this.name=n,this.version=e;var t=this;this.panel={open:function(){$(".nexapp-sidepanel").removeClass("hidden"),setTimeout(function(){$("body").addClass("sidepanel-visible")},50),$(".sidepanel-overlay").off("click"),$(".sidepanel-overlay").on("click",function(){t.panel.close()})},close:function(){$("body").removeClass("sidepanel-visible"),setTimeout(function(){$(".nexapp-sidepanel").addClass("hidden")},350)}},this.toast={show:function(n,e){$(".nexapp-toast .toast-icon").html(n),$(".nexapp-toast .toast-text").text(e),$("div.nexapp-toast").addClass("show"),t.toast.hide()},hide:function(){setTimeout(function(){$("div.nexapp-toast").removeClass("show")},5e3)}},this.modal={show:function(n,e,l){$(".nexapp-modal").css("display","block"),$(".nexapp-modal .modal-header h3").text(n),$(".nexapp-modal .modal-body").html(e),$(".nexapp-modal .modal-footer").html(l),$(".nexapp-modal .modal-close").on("click",function(){t.modal.hide()})},hide:function(){$(".nexapp-modal").css("display","none"),$(".nexapp-modal .modal-close").off("click")}},this.pages={load:function(){$("page").each(function(n,e){let t=$(this).attr("src");t&&$.ajax({url:t,type:"GET",async:!1}).done(function(n){$('page[src="'+t+'"]').html(n)}).fail(function(n){console.log(n)})}),$("[data-page]").hide(),$("[data-page=home]").show()},show:function(n){$("[data-page]").hide(),$('[data-page="'+n+'"]').show(),t.panel.close()},hide:function(n){$('[data-page="'+n+'"]').hide()},hideAll:function(){$("[data-page]").hide()}},this.pages.load(),this.loader={show:function(){$(".nexapp-loader").addClass("show")},hide:function(){$(".nexapp-loader").removeClass("show")}}}}